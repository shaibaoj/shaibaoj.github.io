"use strict";define(function(require){require("../services/appMakeService");var app=require("app");app.controller("VersionLogCtrl",["$scope","$mdDialog","config","appMakeService",function($scope,$mdDialog,config,appMakeService){var vm=$scope.vm={};angular.extend(vm,{isios:!1,init:function(guid){vm.guid=guid,vm.page.init("android")},selectTab:function(bool){vm.isios=bool;var type=vm.isios?"ios":"android";vm.page.init(type)},close:function(){$modalInstance.dismiss("cancel")},page:{clientType:"android",getCurrentPageData:function(){var self=this;appMakeService.getVersionLog(vm.guid,this.clientType,this.currentPage).then(function(resp){var log=resp.result.version_log;self.numPre=log.per_page,self.totalPage=log.last_page,self.form=log.from,self.to=log.to,self.dataList=log.data})},init:function(type){this.clientType=type,this.__defineGetter__("currentPage",function(){return this._currentPage}),this.__defineSetter__("currentPage",function(v){this._currentPage=v,this.getCurrentPageData()}),this.currentPage=1},prev:function(){this.currentPage>1&&this.currentPage--},next:function(){this.currentPage<this.totalPage&&this.currentPage++}}}),vm.init(config.Appinfo.guid)}])});