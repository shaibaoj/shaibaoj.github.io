"use strict";define(function(require){var app=require("app");app.controller("UseTempTipCtrl",function($rootScope,$scope,$state,navconfig,http,utils,config,modalData,$mdDialog){var vm=$scope.vm={};angular.extend(vm,{tempInfo:modalData.tempInfo,pageId:modalData.pageId,useTemplate:function(){if(vm.loading=!1,vm.guid=$rootScope.global_currentApp?$rootScope.global_currentApp.guid:"",console.log(vm.tempInfo,"vm.tempInfo",vm.guid,"vm.guid"),"app"==vm.tempInfo.slug){var appObj={productId:vm.tempInfo.product};vm.postAjax("createApp.importApp",appObj).then(function(resp){vm.loading=!1,+resp.error_code?utils.error("更换app模板失败！"):utils.success("更换app模板成功!"),$mdDialog.cancel()})}if("page"==vm.tempInfo.slug){var pageObj={application_id:vm.guid,productId:vm.tempInfo.product,pageId:vm.pageId,incomplete:!0};vm.postAjax("appglobaldesign.importModal",pageObj).then(function(resp){vm.loading=!1,+resp.error_code?utils.error("更换详情模板失败"):utils.success("更换详情模板成功！"),$mdDialog.cancel()})}if("component"==vm.tempInfo.category){var componentObj={application_id:vm.guid,productId:vm.tempInfo.product,pageId:vm.tempInfo.id,componentId:!0};vm.postAjax("appglobaldesign.importComponent",componentObj).then(function(resp){vm.loading=!1,+resp.error_code?utils.error("更换普通模板失败！"):utils.error("更换普通模板成功！"),$mdDialog.cancel()})}},postAjax:function(_url_,params){var url=config.getAPI(_url_).replace("{application_id}",vm.guid).replace("{pageId}",vm.tempInfo.id);return http(url,{method:"post",data:params})},cancel:function(){$mdDialog.cancel()}})})});