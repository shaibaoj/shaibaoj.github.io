"use strict";define(function(require){var app=require("app");app.controller("coverPopupTipCtrl",function($scope,$mdDialog,utils,config,http,modalData,$state){var vm=$scope.vm={};angular.extend(vm,{iscard:modalData.isCard,modalData:modalData,init:function(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.type=type,vm[type]="init"},ajaxComponentCreate:function(product_id){vm.nopoint=!0,vm.replacemodule=!1;var url=config.getAPI("pagedesign.component_temp_replace").replace("{pageId}",modalData.pageId),params={application_id:modalData.application_id,productId:modalData.productId,pageId:modalData.pageId,componentId:modalData.componentId};http(url,{method:"post",data:params}).then(function(resp){if(vm.replacemodule="complete",!resp.error_code){var ids=resp.result;utils.success("更换组件成功!").then(function(){$mdDialog.hide(ids)})}})["catch"](function(){vm.replacemodule="complete"})},save_new:function(){vm.replacecombine=!1;var url=config.getAPI("pagedesign.setGroupStyle");http(url,{method:"post",data:{productId:modalData.sureid,pageId:modalData.page_id,incomplete:!0}}).then(function(resp){vm.replacecombine="complete",utils.success("更换组合页模版成功").then(function(){$mdDialog.hide(resp)})})["catch"](function(){vm.replacecombine="complete"})},close:function(){$mdDialog.cancel()},confirm:function(){modalData.sureUrl&&$state.go(modalData.sureUrl.url,modalData.sureUrl.params),$mdDialog.hide("sure")}}),vm.init(modalData.type)})});
