"use strict";define(function(require){var app=require("app");require("common/services/modelService"),require("common/modal/modal-header"),require("common/modal/modal-footer"),app.controller("AddSearchTag",["$scope","$mdDialog","data","http","config","utils",function($scope,$mdDialog,data,http,config,utils){console.log("data",data);var vm=$scope.vm={};angular.extend(vm,{data:data,init:function(){this.initParams()},initParams:function(){vm.name=""},close:function(event){$mdDialog.cancel()},save:function(){vm.name?(this.addSeniorSearch(),$mdDialog.cancel()):utils.error("标签名称不能为空!")},addSeniorSearch:function(){vm.loading=!0;var param={name:vm.name,params:{username:data.nickname||void 0,mobile:data.mobile||void 0,email:data.email||void 0,invite_type:data.invite_type||void 0,inviter:data.inviter||void 0,system_member_group:data.system_member_group||void 0,associate_member_group:data.associate_member_group||void 0,source:data.source||void 0,login_start:data.login_start||void 0,login_end:data.login_end||void 0,register_start:data.register_start||void 0,register_end:data.register_end||void 0}},url=config.getAdminAPI("createSearch").replace("{guid}",vm.guid);http(url,{method:"post",data:param}).then(function(data){0==data.erroe_code&&(utils.success("操作成功!"),vm.loading="complete")})["catch"](function(reject){vm.loading="complete"}),$mdDialog.cancel()}}),vm.init()}])});
