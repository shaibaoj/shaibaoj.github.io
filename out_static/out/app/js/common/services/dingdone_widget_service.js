"use strict";define(function(require){var app=require("app");app.factory("dingdoneWidgetService",function($q,http,utils,config){var services={widgetDataTypeDictionary:null,conditionOperatorList:null,conditionOperatorDictionary:null,getWidgetDataTypeDictionary:function(){var defer=$q.defer(),_this=this;if(this.widgetDataTypeDictionary)defer.resolve(this.widgetDataTypeDictionary);else{var url=config.getAPI("dingdoneWidget.widgetDataType");http(url).then(function(json){_this.widgetDataTypeDictionary=json.result,defer.resolve(_this.widgetDataTypeDictionary)})}return defer.promise},getWidgetDataType:function(view_key){var defer=$q.defer();return this.getWidgetDataTypeList().then(function(dictionary){defer.resolve(dictionary[view_key])}),defer.promise},getConditionOperator:function(){var defer=$q.defer(),_this=this;if(this.conditionOperatorList)defer.resolve({list:this.conditionOperatorList,dictionary:this.conditionOperatorDictionary});else{var url=config.getAPI("dingdoneWidget.conditionOperator");http(url).then(function(json){_this.conditionOperatorList=json.result,_this.conditionOperatorDictionary=_this.doOperatorDic(),defer.resolve({list:_this.conditionOperatorList,dictionary:_this.conditionOperatorDictionary})})}return defer.promise},doOperatorDic:function(){var result={};return angular.forEach(this.conditionOperatorList,function(operator){angular.extend(result,operator)}),result}};return services})});