"use strict";define(function(require){var app=require("app");app.directive("dingdoneNumber",function(utils){return{scope:{numberValue:"=",min:"=",max:"=",disabled:"="},restrict:"E",templateUrl:"common/directives/dingdone-number.html",replace:!0,link:function(scope,element,attrs,controller){angular.extend(scope,{init:function(){scope.number=parseInt(scope.numberValue)||0,scope.$watch("number",function(newValue,oldValue,scope){scope.numberValue=parseInt(newValue)},!0),element.on("keydown",".number",function($event){return $event.keyCode>=48&&$event.keyCode<=57||8===$event.keyCode}),element.on("paste",".number",function(){return!1}),element.on("contextmenu",".number",function(){return!1})},sub:function(){scope.disabled||0==scope.number||scope.number--},add:function(){scope.disabled||scope.number++}}),scope.$watch("numberValue",function(newVal,oldVal){newVal&&oldVal&&!angular.equals(newVal,oldVal)&&(scope.number=newVal)},!0),scope.init()}}})});
