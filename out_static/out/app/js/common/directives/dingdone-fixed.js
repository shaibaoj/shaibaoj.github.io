"use strict";define(function(require){var app=require("app");app.directive("dingdoneFixed",["$rootScope","utils",function($rootScope,utils){return{restrict:"A",scope:{offsetTop:"@",changeTop:"="},link:function(scope,element,attrs,controller){function scrollTo(top){if(top>=offsettop){var wd=element.parent().width();element.addClass("fixed").width(wd)}else element.removeClass("fixed")}var offsettop=parseInt(scope.offsetTop)||160;element.addClass("dingdone-fixed"),$(window).bind("scroll",function(){var top=$(window).scrollTop();scrollTo(top)}),scope.change=function(){$(".modal").scroll(function(){var top=$(".modal").scrollTop();top>=offsettop?(element.addClass("fixed"),element.css({top:top-120})):(element.removeClass("fixed"),element.css({top:"initial"}))})},scope.changeTop||scope.change(),scope.$watch("changeTop",function(newval,oldval){newval&&(offsettop=newval,scope.change())},!0)}}}])});