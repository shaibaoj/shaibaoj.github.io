"use strict";define(function(require){var app=require("app");app.directive("formCustom",["$rootScope","upload","config",function($rootScope,upload,config){return{scope:{options:"="},restrict:"EA",templateUrl:"common/directives/form-custom.html",replace:!0,link:function($scope,element,attrs){var vm=$scope.vm=$scope.options;angular.extend(vm,{uploadPic:function(file,flag){vm.loading=!1;var url=config.getAPI("upload");upload(url,file,90,90,"navigationIcon").then(function(resp){var obj=resp.material,src=obj.host+obj.dir+obj.filepath+obj.filename;"default"===flag?vm.icon=src:"press"===flag&&(vm.selected_icon=src),vm.loading="complete"},function(reason){vm.loading="complete"})},setDefaultPic:function(file){this.uploadPic(file,"default")},setPressPic:function(file){this.uploadPic(file,"press")}})}}}])});
