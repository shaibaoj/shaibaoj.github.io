"use strict";define(function(require){var app=require("app");require("common/directives/uri-set"),app.directive("dingdoneWidgetUri",function($rootScope,$compile){return{scope:{widget:"="},replace:!0,templateUrl:"common/directives/superui/uri.html",require:["?^dingdoneWidgetItem","?^dingdoneWidget"],link:function($scope,el,attrs,parentCtrl){var dingdoneWidgetItem=parentCtrl[0],dingdoneWidget=parentCtrl[1],vm=$scope.vm={};angular.extend(vm,{uri:dingdoneWidgetItem.getValue(),pageId:dingdoneWidget.pageId,pageModelId:dingdoneWidget.pageModelId,modelId:dingdoneWidget.modelId}),vm.modelId=$rootScope.modelIdForSetting,$scope.$watch("vm.uri",function(newVal,oldVal){"undefined"==typeof newVal||angular.equals(newVal.toLowerCase(),oldVal.toLowerCase())||dingdoneWidgetItem.setValue(newVal,null,!0)})}}})});