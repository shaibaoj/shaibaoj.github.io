"use strict";define(function(require){var app=require("app");require("appmake/modal/highset"),require("appmake/modal/highset2"),app.directive("uriSet",function(utils){return{scope:{url:"=",modelId:"=",pageId:"=",groupKey:"@",uriflag:"=",pageModelId:"="},restrict:"EA",template:'<div class="input-group dingdone-uri-container-w"><input type="text" class="form-control" placeholder="事件链接" name="navlink" ng-model="url" ng-pattern="/^[a-zA-z]+[^]*$/"><span class="input-group-btn" ng-click="vm.highSet2()"><button class="ft14 btn-success ml10 wd60 btn-r" type="button">高级</button></span></div>',link:function(scope,element,attrs,ngModel){var vm=scope.vm={};angular.extend(vm,{init:function(){},highSet:function(){var params={};params.model_id=scope.modelId?scope.modelId:"",params.group_key=scope.groupKey?scope.groupKey:"";var hightSetPop=utils.mdDialog({templateUrl:"appmake/modal/highset.html",controller:"HighSetCtrl",locals:{params:params}});hightSetPop.then(function(settings){scope.url=settings.uri})},highSet2:function(){utils.mdDialog({controller:"HighSet2Ctrl",templateUrl:"appmake/modal/highset2.html",locals:{model_id:scope.modelId?scope.modelId:"",url:scope.url,pageId:scope.pageId,flag:scope.uriflag||"navigator",pageModelId:scope.pageModelId}}).then(function(data){console.log(data,"data弹窗关闭"),scope.url=data})}}),vm.init()}}})});