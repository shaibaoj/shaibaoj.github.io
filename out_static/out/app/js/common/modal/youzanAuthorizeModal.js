"use strict";define(function(require){var app=require("app");require("appmake/services/appMakeService"),app.controller("youzanAuthModalCtrl",["$scope","utils","http","$state","config","$modalInstance","appMakeService",function($scope,utils,http,$state,config,$modalInstance,appMakeService){var vm=$scope.vm={};angular.extend(vm,{init:function(){vm.getYouzanAuth()},getYouzanAuth:function(){appMakeService.getYouzanAuth().then(function(resp){"0"===resp.error_code&&resp.result&&(vm.youzaninfo=resp.result,vm.now=Date.parse(new Date),vm.youzaninfo&&vm.youzaninfo.expireTime&&(vm.overdue_time=vm.youzaninfo.expireTime-vm.now,vm.overdue_time>0&&(parseInt(vm.overdue_time/864e5)>0&&(vm.time=parseInt(vm.overdue_time/864e5)+"天"),0==parseInt(vm.overdue_time/864e5)&&(vm.time=parseInt(vm.overdue_time/36e5)+"小时"),0==parseInt(vm.overdue_time/36e5)&&(vm.time=parseInt(vm.overdue_time/6e4)+"分钟"),0!=parseInt(vm.overdue_time/6e4)&&0!=vm.overdue_time||(vm.time=vm.overdue_time+"秒"))))})},showModalTip:function(){if(vm.checked=!vm.checked,vm.checked){var now=Date.parse(new Date);localStorage.setItem("time",now)}},goBuy:function(){$state.go("mainLayout.businessAuth"),$modalInstance.close()},goXuFei:function(){$state.go("mainLayout.businessAuth"),$modalInstance.close()},close:function(){$modalInstance.close()}}),vm.init()}])});