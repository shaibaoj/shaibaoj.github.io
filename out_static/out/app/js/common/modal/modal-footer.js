"use strict";define(function(require){var app=require("app");app.directive("modalFooter",["$mdDialog","$timeout",function($mdDialog,$timeout){return{scope:{name:"=",onlyBtn:"@",modalSave:"&",customLoading:"@",loadingState:"="},restrict:"AE",templateUrl:"common/modal/dingdone-footer.html",link:function($scope,iElm,iAttrs){var vm=$scope.vm={};angular.extend(vm,{init:function(){vm.loading="init",vm.btnName(),vm.isshow="false"!=$scope.onlyBtn},btnName:function(){vm.defaultName={save:"确认",close:"取消"},$scope.name&&($scope.name=angular.extend(vm.defaultName,$scope.name)),vm.sureName=vm.defaultName.save,vm.closeName=vm.defaultName.close},close:function(){$mdDialog.cancel()},save:function(){vm.loading=!1,$scope.modalSave&&$scope.modalSave(),$scope.customLoading||$timeout(function(){vm.loading="complete"},2e3)}}),$scope.$watch("loadingState",function(newval,oldval){newval!=oldval&&(vm.loading=newval)}),vm.init()}}}])});