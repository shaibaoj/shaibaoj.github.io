!function(t,e){function n(){return $.tmpl&&$.template&&$.tmplItem}function l(e,n,l,a){var r={data:a||0===a||a===!1?a:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:m,nest:f,wrap:s,html:d,update:_};return e&&t.extend(r,e,{nodes:[],parent:n}),l&&(r.tmpl=l,r._ctnt=r._ctnt||r.tmpl(t,r),r.key=++j,(N.length?k:w)[j]=r),r}function a(e,n,l){var i,p=l?t.map(l,function(t){return"string"==typeof t?e.key?t.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+e.key+'" $2'):t:a(t,e,t._ctnt)}):e;return n?p:(p=p.join(""),p.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,n,l,a){i=t(l).get(),c(i),n&&(i=r(n).concat(i)),a&&(i=i.concat(r(a)))}),i?i:r(p))}function r(e){var n=document.createElement("div");return n.innerHTML=e,t.makeArray(n.childNodes)}function i(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data,_item=$item,_data=_item.data;with($data){__.push('"+t.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,n,l,a,r,i,p){var u,c,m,f=t.tmpl.tag[l];if(!f)throw"Unknown template tag: "+l;return u=f._default||[],i&&!/\w$/.test(r)&&(r+=i,i=""),r?(r=o(r),p=p?","+o(p)+")":i?")":"",c=i?r.indexOf(".")>-1?r+o(i):"("+r+").call($item"+p:r,m=i?c:"(typeof("+r+")==='function'?("+r+").call($item):("+r+"))"):m=c=u.$1||"null",a=o(a),"');"+f[n?"close":"open"].split("$notnull_1").join(r?"typeof("+r+")!=='undefined' && ("+r+")!=null":"true").split("$1a").join(m).split("$1").join(c).split("$2").join(a||u.$2||"")+"__.push('"})+"');}return __;")}function p(e,n){e._wrap=a(e,!0,t.isArray(n)?n:[v.test(n)?n:t(n).html()]).join("")}function o(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function u(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function c(e){function n(e){function n(t){t+=u,i=c[t]=c[t]||l(i,w[i.parent.key+u]||i.parent)}var a,r,i,p,o=e;if(p=e.getAttribute(g)){for(;o.parentNode&&1===(o=o.parentNode).nodeType&&!(a=o.getAttribute(g)););a!==p&&(o=o.parentNode?11===o.nodeType?0:o.getAttribute(g)||0:0,(i=w[p])||(i=k[p],i=l(i,w[o]||k[o]),i.key=++j,w[j]=i),A&&n(p)),e.removeAttribute(g)}else A&&(i=t.data(e,"tmplItem"))&&(n(i.key),w[i.key]=i,o=t.data(e.parentNode,"tmplItem"),o=o?o.key:0);if(i){for(r=i;r&&r.key!=o;)r.nodes.push(e),r=r.parent;delete i._ctnt,delete i._wrap,t.data(e,"tmplItem",i)}}var a,r,i,p,o,u="_"+A,c={};for(i=0,p=e.length;i<p;i++)if(1===(a=e[i]).nodeType){for(r=a.getElementsByTagName("*"),o=r.length-1;o>=0;o--)n(r[o]);n(a)}}function m(t,e,n,l){return t?void N.push({_:t,tmpl:e,item:this,data:n,options:l}):N.pop()}function f(e,n,l){return t.tmpl(t.template(e),n,l,this)}function s(e,n){var l=e.options||{};return l.wrapped=n,t.tmpl(t.template(e.tmpl),e.data,l,e.item)}function d(e,n){var l=this._wrap;return t.map(t(t.isArray(l)?l.join(""):l).filter(e||"*"),function(t){return n?t.innerText||t.textContent:t.outerHTML||u(t)})}function _(){var e=this.nodes;t.tmpl(null,null,null,this).insertBefore(e[0]),t(e).remove()}if(!n()){var h,y=t.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,w={},k={},T={key:0,data:{}},j=0,A=0,N=[];t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){t.fn[e]=function(l){var a,r,i,p,o=[],u=t(l),c=1===this.length&&this[0].parentNode;if(h=w||{},c&&11===c.nodeType&&1===c.childNodes.length&&1===u.length)u[n](this[0]),o=this;else{for(r=0,i=u.length;r<i;r++)A=r,a=(r>0?this.clone(!0):this).get(),t(u[r])[n](a),o=o.concat(a);A=0,o=this.pushStack(o,e,u.selector)}return p=h,h=null,t.tmpl.complete(p),o}}),t.fn.extend({tmpl:function(e,n,l){return t.tmpl(this[0],e,n,l)},tmplItem:function(){return t.tmplItem(this[0])},template:function(e){return t.template(e,this[0])},domManip:function(e,n,l,a){if(e[0]&&t.isArray(e[0])){for(var r,i=t.makeArray(arguments),p=e[0],o=p.length,u=0;u<o&&!(r=t.data(p[u++],"tmplItem")););r&&A&&(i[2]=function(e){t.tmpl.afterManip(this,e,l)}),y.apply(this,i)}else y.apply(this,arguments);return A=0,h||t.tmpl.complete(w),this}}),t.extend({tmpl:function(e,n,r,i){var o,u=!i;if(u)i=T,e=t.template[e]||t.template(null,e),k={};else if(!e)return e=i.tmpl,w[i.key]=i,i.nodes=[],i.wrapped&&p(i,i.wrapped),t(a(i,null,i.tmpl(t,i)));return e?("function"==typeof n&&(n=n.call(i||{})),r&&r.wrapped&&p(r,r.wrapped),o=t.isArray(n)?t.map(n,function(t){return t?l(r,i,e,t):null}):[l(r,i,e,n)],u?t(a(i,null,o)):o):[]},tmplItem:function(e){var n;for(e instanceof t&&(e=e[0]);e&&1===e.nodeType&&!(n=t.data(e,"tmplItem"))&&(e=e.parentNode););return n||T},template:function(e,n){return n?("string"==typeof n?n=i(n):n instanceof t&&(n=n[0]||{}),n.nodeType&&(n=t.data(n,"tmpl")||t.data(n,"tmpl",i(n.innerHTML))),"string"==typeof e?t.template[e]=n:n):e?"string"!=typeof e?t.template(null,e):t.template[e]||t.template(null,v.test(e)?e:t(e)):null},encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),t.extend(t.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){var _index=$index, _value=$value;with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(t){w={}},afterManip:function(e,n,l){var a=11===n.nodeType?t.makeArray(n.childNodes):1===n.nodeType?[n]:[];l.call(e,n),c(a),A++}})}}(jQuery);
