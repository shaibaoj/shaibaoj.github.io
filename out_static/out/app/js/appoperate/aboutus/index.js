"use strict";define(function(require){var app=require("app");require("common/directives/angular.ueditor"),require("common/filters/filters"),app.controller("AboutUsCtrl",["$scope","$modal","$state","navconfig","utils","config","http","appMakeService","$sce",function($scope,$modal,$state,navconfig,utils,config,http,appMakeService,$sce){var vm=$scope.vm={};angular.extend(vm,{ueconfig:{initialFrameHeight:590,initialFrameWidth:"100%",toolbars:[["undo","redo","|","bold","|","blockquote","insertunorderedlist","|"]]},init:function(guid){vm.loading="init",vm.guid=guid,vm.initData()},initData:function(){appMakeService.getAppBaseInfo(vm.guid).then(function(data){data.error_code||(vm.content=data.result.application.about_us)})},save:function(){var data={about_us:vm.content},url=config.getAPI("updateaboutus").replace("{guid}",vm.guid);http(url,{method:"put",data:data}).then(function(data){data.error_code?utils.error(data.error_message):utils.success("保存成功!")})["catch"](function(resp){utils.error(resp.error_message)})}}),$scope.$on("checkApp",function(event,first_appinfo){var guid=first_appinfo.guid;vm.init(guid)})}])});