var vmToolEx=new Vue({el:"#vmToolEx",data:{dataUrL:{isAddL:"",commodityAdd:"",couponAdd:""},shopUrl:Request("shopUrl")?Request("shopUrl"):""},mounted:function(){this.shopUrl&&(this.dataUrL.isAddL=decodeURIComponent(decodeURIComponent(this.shopUrl)))},methods:{clear:function(index){switch(index){case 0:this.dataUrL.isAddL="";break;case 1:this.dataUrL.commodityAdd="";break;case 2:this.dataUrL.couponAdd=""}layer.msg("已清空",{time:1500,shade:.1,shadeClose:!0})},copy:function(classA,classB,number){var clipboard=new Clipboard("."+classA,{target:function(){return document.querySelector("."+classB)}});clipboard.on("success",function(e){""!=e.text?(layer.msg("复制成功",{icon:1,time:1500,shade:.1,shadeClose:!0}),setTimeout(function(){e.trigger.disabled=!1},2e3),clipboard.destroy()):layer.msg("请先提取地址",{icon:2,time:1500,shade:.1,shadeClose:!0})}),clipboard.on("error",function(){layer.msg("复制失败，请手动复制",{time:1500,shade:.1,shadeClose:!0}),clipboard.destroy()})},Tbtn:function(){var self=this;self.dataUrL.isAddL?(layer.load(2),ajaxPost("/api/user/tools/tools/click_url_info",{content:self.dataUrL.isAddL},function(data){layer.closeAll(),0==data.info.status?(layer.msg(data.info.status_err,{icon:1,time:1500,shade:.1,shadeClose:!0}),self.dataUrL.commodityAdd=data.data.itemid_url,self.dataUrL.couponAdd=data.data.couponurl):100==data.status?loginJump(self.dataUrL.isAddL):layer.msg(data.info.status_err,{icon:2,time:1500,shade:.1,shadeClose:!0})},function(){layer.closeAll(),layer.msg("网络错误",{icon:2,time:1500,shade:.1,shadeClose:!0})})):layer.msg("地址不能为空",{icon:2,time:1500,shade:.1,shadeClose:!0})}}});