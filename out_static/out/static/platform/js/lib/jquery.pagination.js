!function(factory){"function"!=typeof define||!define.amd&&!define.cmd||jQuery?"object"==typeof module&&module.exports?module.exports=function(root,jQuery){return void 0===jQuery&&(jQuery="undefined"!=typeof window?require("jquery"):require("jquery")(root)),factory(jQuery),jQuery}:factory(jQuery):define(["jquery"],factory)}(function($){function Pagination(element,options){var current,opts=options,$document=$(document),$obj=$(element);this.setPageCount=function(page){return opts.pageCount=page},this.getPageCount=function(){return opts.totalData||opts.showData?Math.ceil(parseInt(opts.totalData)/opts.showData):opts.pageCount},this.getCurrent=function(){return current},this.filling=function(index){var html="";current=index||opts.current;var pageCount=this.getPageCount();if(opts.keepShowPN||1<current?html+='<a href="javascript:;" class="'+opts.prevCls+'">'+opts.prevContent+"</a>":0==opts.keepShowPN&&$obj.find("."+opts.prevCls)&&$obj.find("."+opts.prevCls).remove(),current>=opts.count+2&&1!=current&&pageCount!=opts.count){var home=opts.coping&&opts.homePage?opts.homePage:"1";html+=opts.coping?'<a href="javascript:;" data-page="1">'+home+"</a><span>...</span>":""}var end=current+opts.count,start="";for((1<(start=current===pageCount?current-opts.count-2:current-opts.count)&&current<opts.count||1==current)&&end++,current>pageCount-opts.count&&pageCount<=current&&start++;start<=end;start++)start<=pageCount&&1<=start&&(html+=start!=current?'<a href="javascript:;" data-page="'+start+'">'+start+"</a>":'<span class="'+opts.activeCls+'">'+start+"</span>");if(current+opts.count<pageCount&&1<=current&&pageCount>opts.count){end=opts.coping&&opts.endPage?opts.endPage:pageCount;html+=opts.coping?'<span>...</span><a href="javascript:;" data-page="'+pageCount+'">'+end+"</a>":""}opts.keepShowPN||current<pageCount?html+='<a href="javascript:;" class="'+opts.nextCls+'">'+opts.nextContent+"</a>":0==opts.keepShowPN&&$obj.find("."+opts.nextCls)&&$obj.find("."+opts.nextCls).remove(),html+=opts.jump?'<input type="text" class="'+opts.jumpIptCls+'"><a href="javascript:;" class="'+opts.jumpBtnCls+'">'+opts.jumpBtn+"</a>":"",$obj.empty().html(html)},this.eventBind=function(){var that=this,pageCount=that.getPageCount(),index=1;$obj.off().on("click","a",function(){if($(this).hasClass(opts.nextCls)){if($obj.find("."+opts.activeCls).text()>=pageCount)return $(this).addClass("disabled"),!1;index=parseInt($obj.find("."+opts.activeCls).text())+1}else if($(this).hasClass(opts.prevCls)){if($obj.find("."+opts.activeCls).text()<=1)return $(this).addClass("disabled"),!1;index=parseInt($obj.find("."+opts.activeCls).text())-1}else if($(this).hasClass(opts.jumpBtnCls)){if(""===$obj.find("."+opts.jumpIptCls).val())return;index=parseInt($obj.find("."+opts.jumpIptCls).val())}else index=parseInt($(this).data("page"));that.filling(index),"function"==typeof opts.callback&&opts.callback(that)}),$obj.on("input propertychange","."+opts.jumpIptCls,function(){var $this=$(this),val=$this.val(),reg=/[^\d]/g;reg.test(val)&&$this.val(val.replace(reg,"")),parseInt(val)>pageCount&&$this.val(pageCount),0===parseInt(val)&&$this.val(1)}),$document.keydown(function(e){if(13==e.keyCode&&$obj.find("."+opts.jumpIptCls).val()){var index=parseInt($obj.find("."+opts.jumpIptCls).val());that.filling(index),"function"==typeof opts.callback&&opts.callback(that)}})},this.init=function(){this.filling(opts.current),this.eventBind(),(opts.isHide&&"1"==this.getPageCount()||"0"==this.getPageCount())&&$obj.hide()},this.init()}var defaults={totalData:0,showData:0,pageCount:9,current:1,prevCls:"prev",nextCls:"next",prevContent:"<",nextContent:">",activeCls:"active",coping:!1,isHide:!1,homePage:"",endPage:"",keepShowPN:!1,count:3,jump:!1,jumpIptCls:"jump-ipt",jumpBtnCls:"jump-btn",jumpBtn:"跳转",callback:function(){}};$.fn.pagination=function(parameter,callback){"function"==typeof parameter?(callback=parameter,parameter={}):(parameter=parameter||{},callback=callback||function(){});var options=$.extend({},defaults,parameter);return this.each(function(){var pagination=new Pagination(this,options);callback(pagination)})}});