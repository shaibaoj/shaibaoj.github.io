!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){}var e=b.exports={};e.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],2:[function(a,b,c){"use strict";function d(a){function b(a){return null===i?void k.push(a):void g(function(){var b=i?a.onFulfilled:a.onRejected;if(null===b)return void(i?a.resolve:a.reject)(j);var c;try{c=b(j)}catch(d){return void a.reject(d)}a.resolve(c)})}function c(a){try{if(a===l)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void f(b.bind(a),c,d)}i=!0,j=a,h()}catch(e){d(e)}}function d(a){i=!1,j=a,h()}function h(){for(var a=0,c=k.length;c>a;a++)b(k[a]);k=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");var i=null,j=null,k=[],l=this;this.then=function(a,c){return new l.constructor(function(d,f){b(new e(a,c,d,f))})},f(a,c,d)}function e(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function f(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var g=a("asap");b.exports=d},{asap:4}],3:[function(a,b,c){"use strict";function d(a){this.then=function(b){return"function"!=typeof b?this:new e(function(c,d){f(function(){try{c(b(a))}catch(e){d(e)}})})}}var e=a("./core.js"),f=a("asap");b.exports=e,d.prototype=e.prototype;var g=new d(!0),h=new d(!1),i=new d(null),j=new d(void 0),k=new d(0),l=new d("");e.resolve=function(a){if(a instanceof e)return a;if(null===a)return i;if(void 0===a)return j;if(a===!0)return g;if(a===!1)return h;if(0===a)return k;if(""===a)return l;if("object"==typeof a||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new e(b.bind(a))}catch(c){return new e(function(a,b){b(c)})}return new d(a)},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){a.forEach(function(a){e.resolve(a).then(b,c)})})},e.prototype["catch"]=function(a){return this.then(null,a)}},{"./core.js":2,asap:4}],4:[function(a,b,c){(function(a){function c(){for(;e.next;){e=e.next;var a=e.task;e.task=void 0;var b=e.domain;b&&(e.domain=void 0,b.enter());try{a()}catch(d){if(i)throw b&&b.exit(),setTimeout(c,0),b&&b.enter(),d;setTimeout(function(){throw d},0)}b&&b.exit()}g=!1}function d(b){f=f.next={task:b,domain:i&&a.domain,next:null},g||(g=!0,h())}var e={task:void 0,next:null},f=e,g=!1,h=void 0,i=!1;if("undefined"!=typeof a&&a.nextTick)i=!0,h=function(){a.nextTick(c)};else if("function"==typeof setImmediate)h="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel;j.port1.onmessage=c,h=function(){j.port2.postMessage(0)}}else h=function(){setTimeout(c,0)};b.exports=d}).call(this,a("_process"))},{_process:1}],5:[function(a,b,c){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(a,b){var c=arguments.length?this.then.apply(this,arguments):this;c.then(null,function(a){setTimeout(function(){throw a},0)})})},{}],6:[function(a,b,c){a("asap");"undefined"==typeof Promise&&(Promise=a("./lib/core.js"),a("./lib/es6-extensions.js")),a("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6]),function(a,b){function c(a,b){a=a.toString().split("."),b=b.toString().split(".");for(var c=0;c<a.length||c<b.length;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(window.isNaN(d)&&(d=0),window.isNaN(e)&&(e=0),e>d)return-1;if(d>e)return 1}return 0}var d=a.Promise,e=a.document,f=a.navigator.userAgent,g=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(f)||/Windows\sNT\s[\d\.]+/i.test(f),h=g&&a.WindVane_Win_Private&&a.WindVane_Win_Private.call,i=/iPhone|iPad|iPod/i.test(f),j=/Android/i.test(f),k=f.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),l=Object.prototype.hasOwnProperty,m=b.windvane=a.WindVane||(a.WindVane={}),n=(a.WindVane_Native,Math.floor(65536*Math.random())),o=1,p=[],q=3,r="hybrid",s="wv_hybrid",t="iframe_",u="param_",v="chunk_",w=6e5,x=6e5,y=6e4;k=k?(k[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var z={isAvailable:1===c(k,"0"),call:function(a,b,c,e,f,g){var h,i;"number"==typeof arguments[arguments.length-1]&&(g=arguments[arguments.length-1]),"function"!=typeof e&&(e=null),"function"!=typeof f&&(f=null),d&&(i={},i.promise=new d(function(a,b){i.resolve=a,i.reject=b})),h=A.getSid();var j={success:e,failure:f,deferred:i};return g>0&&(j.timeout=setTimeout(function(){z.onFailure(h,{ret:"HY_TIMEOUT"})},g)),A.registerCall(h,j),A.registerGC(h,g),z.isAvailable?A.callMethod(a,b,c,h):z.onFailure(h,{ret:"HY_NOT_IN_WINDVANE"}),i?i.promise:void 0},fireEvent:function(a,b,c){var d=e.createEvent("HTMLEvents");d.initEvent(a,!1,!0),d.param=A.parseData(b||A.getData(c)),e.dispatchEvent(d)},getParam:function(a){return A.getParam(a)},setData:function(a,b){A.setData(a,b)},onSuccess:function(a,b){A.onComplete(a,b,"success")},onFailure:function(a,b){A.onComplete(a,b,"failure")}},A={params:{},chunks:{},calls:{},getSid:function(){return(n+o++)%65536+""},buildParam:function(a){return a&&"object"==typeof a?JSON.stringify(a):a||""},getParam:function(a){return this.params[u+a]||""},setParam:function(a,b){this.params[u+a]=b},parseData:function(a){var b;if(a&&"string"==typeof a)try{b=JSON.parse(a)}catch(c){b={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else b=a||{};return b},setData:function(){this.chunks[v+sid]=this.chunks[v+sid]||[],this.chunks[v+sid].push(chunk)},getData:function(a){return this.chunks[v+a]?this.chunks[v+a].join(""):""},registerCall:function(a,b){this.calls[a]=b},unregisterCall:function(a){var b={};return this.calls[a]&&(b=this.calls[a],delete this.calls[a]),b},useIframe:function(a,b){var c=t+a,d=p.pop();d||(d=e.createElement("iframe"),d.setAttribute("frameborder","0"),d.style.cssText="width:0;height:0;border:0;display:none;"),d.setAttribute("id",c),d.setAttribute("src",b),d.parentNode||setTimeout(function(){e.body.appendChild(d)},5)},retrieveIframe:function(a){var b=t+a,c=e.querySelector("#"+b);p.length>=q?e.body.removeChild(c):p.indexOf(c)<0&&p.push(c)},callMethod:function(b,c,d,e){if(d=A.buildParam(d),g)h?a.WindVane_Win_Private.call(b,c,e,d):this.onComplete(e,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var f=r+"://"+b+":"+e+"/"+c+"?"+d;if(i)this.setParam(e,d),this.useIframe(e,f);else if(j){var k=s+":";window.prompt(f,k)}else this.onComplete(e,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function(a,b){var c=this,d=Math.max(b||0,w),e=Math.max(b||0,y),f=Math.max(b||0,x);setTimeout(function(){c.unregisterCall(a)},d),i?setTimeout(function(){c.params[u+a]&&delete c.params[u+a]},e):j&&setTimeout(function(){c.chunks[v+a]&&delete c.chunks[v+a]},f)},onComplete:function(a,b,c){var d=this.unregisterCall(a),e=d.success,f=d.failure,g=d.deferred,h=d.timeout;h&&clearTimeout(h),b=b?b:this.getData(a),b=this.parseData(b);var k=b.ret;"string"==typeof k&&(b=b.value||b,b.ret||(b.ret=[k])),"success"===c?(e&&e(b),g&&g.resolve(b)):"failure"===c&&(f&&f(b),g&&g.reject(b)),i?(this.retrieveIframe(a),this.params[u+a]&&delete this.params[u+a]):j&&this.chunks[v+a]&&delete this.chunks[v+a]}};for(var B in z)l.call(m,B)||(m[B]=z[B])}(window,window.lib||(window.lib={})),function(a,b){function c(){var a={},b=new m(function(b,c){a.resolve=b,a.reject=c});return a.promise=b,a}function d(a,b){for(var c in b)void 0===a[c]&&(a[c]=b[c]);return a}function e(a){var b=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document;b.appendChild(a)}function f(a){var b=[];for(var c in a)a[c]&&b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}function g(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d}function n(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}var o,p,q,r,s,t,u,v,w,x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(a=n(a),x=l(a),t=1732584193,u=4023233417,v=2562383102,w=271733878,o=0;o<x.length;o+=16)p=t,q=u,r=v,s=w,t=h(t,u,v,w,x[o+0],y,3614090360),w=h(w,t,u,v,x[o+1],z,3905402710),v=h(v,w,t,u,x[o+2],A,606105819),u=h(u,v,w,t,x[o+3],B,3250441966),t=h(t,u,v,w,x[o+4],y,4118548399),w=h(w,t,u,v,x[o+5],z,1200080426),v=h(v,w,t,u,x[o+6],A,2821735955),u=h(u,v,w,t,x[o+7],B,4249261313),t=h(t,u,v,w,x[o+8],y,1770035416),w=h(w,t,u,v,x[o+9],z,2336552879),v=h(v,w,t,u,x[o+10],A,4294925233),u=h(u,v,w,t,x[o+11],B,2304563134),t=h(t,u,v,w,x[o+12],y,1804603682),w=h(w,t,u,v,x[o+13],z,4254626195),v=h(v,w,t,u,x[o+14],A,2792965006),u=h(u,v,w,t,x[o+15],B,1236535329),t=i(t,u,v,w,x[o+1],C,4129170786),w=i(w,t,u,v,x[o+6],D,3225465664),v=i(v,w,t,u,x[o+11],E,643717713),u=i(u,v,w,t,x[o+0],F,3921069994),t=i(t,u,v,w,x[o+5],C,3593408605),w=i(w,t,u,v,x[o+10],D,38016083),v=i(v,w,t,u,x[o+15],E,3634488961),u=i(u,v,w,t,x[o+4],F,3889429448),t=i(t,u,v,w,x[o+9],C,568446438),w=i(w,t,u,v,x[o+14],D,3275163606),v=i(v,w,t,u,x[o+3],E,4107603335),u=i(u,v,w,t,x[o+8],F,1163531501),t=i(t,u,v,w,x[o+13],C,2850285829),w=i(w,t,u,v,x[o+2],D,4243563512),v=i(v,w,t,u,x[o+7],E,1735328473),u=i(u,v,w,t,x[o+12],F,2368359562),t=j(t,u,v,w,x[o+5],G,4294588738),w=j(w,t,u,v,x[o+8],H,2272392833),v=j(v,w,t,u,x[o+11],I,1839030562),u=j(u,v,w,t,x[o+14],J,4259657740),t=j(t,u,v,w,x[o+1],G,2763975236),w=j(w,t,u,v,x[o+4],H,1272893353),v=j(v,w,t,u,x[o+7],I,4139469664),u=j(u,v,w,t,x[o+10],J,3200236656),t=j(t,u,v,w,x[o+13],G,681279174),w=j(w,t,u,v,x[o+0],H,3936430074),v=j(v,w,t,u,x[o+3],I,3572445317),u=j(u,v,w,t,x[o+6],J,76029189),t=j(t,u,v,w,x[o+9],G,3654602809),w=j(w,t,u,v,x[o+12],H,3873151461),v=j(v,w,t,u,x[o+15],I,530742520),u=j(u,v,w,t,x[o+2],J,3299628645),t=k(t,u,v,w,x[o+0],K,4096336452),w=k(w,t,u,v,x[o+7],L,1126891415),v=k(v,w,t,u,x[o+14],M,2878612391),u=k(u,v,w,t,x[o+5],N,4237533241),t=k(t,u,v,w,x[o+12],K,1700485571),w=k(w,t,u,v,x[o+3],L,2399980690),v=k(v,w,t,u,x[o+10],M,4293915773),u=k(u,v,w,t,x[o+1],N,2240044497),t=k(t,u,v,w,x[o+8],K,1873313359),w=k(w,t,u,v,x[o+15],L,4264355552),v=k(v,w,t,u,x[o+6],M,2734768916),u=k(u,v,w,t,x[o+13],N,1309151649),t=k(t,u,v,w,x[o+4],K,4149444226),w=k(w,t,u,v,x[o+11],L,3174756917),v=k(v,w,t,u,x[o+2],M,718787259),u=k(u,v,w,t,x[o+9],N,3951481745),t=c(t,p),u=c(u,q),v=c(v,r),w=c(w,s);var O=m(t)+m(u)+m(v)+m(w);return O.toLowerCase()}function h(a){var b=new RegExp("(?:^|;\\s*)"+a+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return b?b[1]:void 0}function i(a,b,c){var d=new Date;d.setTime(d.getTime()-864e5);var e="/";doc.cookie=a+"=;path="+e+";domain=."+b+";expires="+d.toGMTString(),doc.cookie=a+"=;path="+e+";domain=."+c+"."+b+";expires="+d.toGMTString()}function j(){var b=a.location.hostname,c=["taobao.net","taobao.com","tmall.com","tmall.hk","etao.com","alibaba.com","alibaba-inc.com","alipay.com","aliyun.com","tdd.la"],d=new RegExp("([^.]*?)\\.?((?:"+c.join(")|(?:").replace(/\./g,"\\.")+"))","i"),e=b.match(d)||[],f=e[2]||"taobao.com",g=e[1]||"m";"taobao.net"!==f||"x"!==g&&"waptest"!==g&&"daily"!==g?"taobao.net"===f&&"demo"===g?g="demo":"taobao.com"===f&&"tms"===g?g="m":"tmall.com"===f&&"www"===g?g="m":"tdd.la"===f&&"m"===g&&(g=""):g="waptest";var h="etao.com"===f?"apie":"api";q.mainDomain=f,q.subDomain=g,q.prefix=h}function k(){var b=a.navigator.userAgent,c=b.match(/WindVane[\/\s]([\d\.\_]+)/);c&&(q.WindVaneVersion=c[1]);var d=b.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);d&&(q.AliAppName=d[1],q.AliAppVersion=d[2])}function l(a){this.id=++t,this.params=d(a||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=r.slice(0)}var m=a.Promise,n=m.resolve(),o=!1;if(o)try{o.setItem("@private","false")}catch(p){o=!1}var q={useAlipayJSBridge:!1},r=[],s={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};j(),k();var t=0;l.prototype.use=function(a){if(!a)throw new Error("middleware is undefined");return this.middlewares.push(a),this},l.prototype.__processRequestMethod=function(a){var b=this.params,c=this.options;"get"===b.type&&"jsonp"===b.dataType?c.getJSONP=!0:"get"===b.type&&"json"===b.dataType?c.getJSON=!0:"post"===b.type&&(c.postJSON=!0),a()},l.prototype.__processRequestType=function(a){var c=this,d=this.options;if(q.H5Request===!0&&(d.H5Request=!0),q.WindVaneRequest===!0&&(d.WindVaneRequest=!0),d.H5Request===!1&&d.WindVaneRequest===!0){if(!b.windvane||parseFloat(d.WindVaneVersion)<5.4)throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境")}else d.H5Request===!0?d.WindVaneRequest=!1:"undefined"==typeof d.WindVaneRequest&&"undefined"==typeof d.H5Request&&(b.windvane&&parseFloat(d.WindVaneVersion)>=5.4?d.WindVaneRequest=!0:d.H5Request=!0);a().then(function(){var a=d.retJson.ret;return a instanceof Array&&(a=a.join(",")),d.WindVaneRequest===!0&&(!a||a.indexOf("HY_FAILED")>-1||a.indexOf("HY_NO_HANDLER")>-1||a.indexOf("HY_CLOSED")>-1||a.indexOf("HY_EXCEPTION")>-1||a.indexOf("HY_NO_PERMISSION")>-1)?(q.H5Request=!0,c.__sequence([c.__processRequestType,c.__processToken,c.__processRequestUrl,c.__processUnitPrefix,c.middlewares,c.__processRequest])):void 0})};var u="_m_h5_tk",v="_m_h5_tk_enc";l.prototype.__getTokenFromAlipay=function(){var b=c(),d=this.options,e=(a.navigator.userAgent,!!location.protocol.match(/^https?\:$/)),f="AP"===d.AliAppName&&parseFloat(d.AliAppVersion)>=8.2;return d.useAlipayJSBridge===!0&&!e&&f&&a.AlipayJSBridge&&a.AlipayJSBridge.call?a.AlipayJSBridge.call("getMtopToken",function(a){a&&a.token&&(d.token=a.token),b.resolve()},function(){b.resolve()}):b.resolve(),b.promise},l.prototype.__getTokenFromCookie=function(){var a=this.options;return a.token=a.token||h(u),a.token&&(a.token=a.token.split("_")[0]),m.resolve()},l.prototype.__processToken=function(a){var b=this,c=this.options;this.params;return c.token&&delete c.token,c.WindVaneRequest!==!0?n.then(function(){return b.__getTokenFromAlipay()}).then(function(){return b.__getTokenFromCookie()}).then(a).then(function(){var a=c.retJson,d=a.ret;if(d instanceof Array&&(d=d.join(",")),d.indexOf("TOKEN_EMPTY")>-1||d.indexOf("TOKEN_EXOIRED")>-1){if(c.maxRetryTimes=c.maxRetryTimes||5,c.failTimes=c.failTimes||0,c.H5Request&&++c.failTimes<c.maxRetryTimes)return b.__sequence([b.__processToken,b.__processRequestUrl,b.__processUnitPrefix,b.middlewares,b.__processRequest]);maxRetryTimes>0&&(i(u,c.mainDomain,c.subDomain),i(v,c.mainDomain,c.subDomain)),a.retType=s.TOKEN_EXPIRED}}):void a()},l.prototype.__processRequestUrl=function(a){var b=this.params,c=this.options;if(c.H5Request===!0){var d="//"+(c.prefix?c.prefix+".":"")+(c.subDomain?c.subDomain+".":"")+c.mainDomain+"/h5/"+b.api.toLowerCase()+"/"+b.v.toLowerCase()+"/",e=(new Date).getTime(),f="waptest"===c.subDomain?"4272":"12574478",h=g(c.token+"&"+e+"&"+f+"&"+b.data),i={appKey:f,t:e,sign:h},j={data:b.data,ua:b.ua};Object.keys(b).forEach(function(a){"undefined"==typeof i[a]&&"undefined"==typeof j[a]&&(i[a]=b[a])}),c.getJSONP?i.type="jsonp":(c.getJSON||c.postJSON)&&(i.type="originaljson"),c.querystring=i,c.postdata=j,c.path=d}a()},l.prototype.__processUnitPrefix=function(b){var c=this.params,d=this.options;if(o&&d.H5Request===!0){var f=c.api,g=!1,i=h("_m_user_unitinfo_"),j=o.getItem("unitinfo");i&&i.split("|")[0].indexOf("center")<0&&j&&j.indexOf(f.toLowerCase())>=0&&(g=i.split("|")[1]),g&&d.path&&(d.path=d.path.replace(/^\/\//,"//"+g+".")),b().then(function(){if(o){var b=h("_m_unitapi_v_"),c=o.getItem("unitinfo");if(b){var f=c?JSON.parse(c):{};if(!c||b!==f.version){var g=!1,i="//h5."+d.subDomain+".taobao.com/js/mtop/unit/"+b+"/unitApi.js",j=document.createElement("script");j.src=i;var k=function(){g||(g=!0,j.onload=j.onerror=null,j.parentNode&&j.parentNode.removeChild(j))};j.onerror=function(){k()},a.jsonp_unitapi||(a.jsonp_unitapi=function(a){k(),o.setItem("unitinfo",JSON.stringify(a))}),e(j)}}}})}else b()};var w=0;l.prototype.__requestJSONP=function(a){function b(a){if(k&&clearTimeout(k),l.parentNode&&l.parentNode.removeChild(l),"TIMEOUT"===a)window[j]=function(){window[j]=undef;try{delete window[j]}catch(a){}};else{window[j]=void 0;try{delete window[j]}catch(b){}}}var d=c(),g=this.params,h=this.options,i=g.timeout||2e4,j="mtopjsonp"+ ++w,k=setTimeout(function(){b("TIMEOUT"),a("TIMEOUT::接口超时")},i);h.querystring.callback=j;var l=document.createElement("script");return l.src=h.path+"?"+f(h.querystring)+"&"+f(h.postdata),l.sync=!0,l.onerror=function(){b("ABORT"),a("ABORT::接口异常退出")},window[j]=function(){h.results=Array.prototype.slice.call(arguments),b(),d.resolve()},e(l),d.promise},l.prototype.__requestJSON=function(b){function d(a){k&&clearTimeout(k),"TIMEOUT"===a&&i.abort()}var e=c(),g=this.params,h=this.options,i=new a.XMLHttpRequest,j=g.timeout||2e4,k=setTimeout(function(){d("TIMEOUT"),b("TIMEOUT::接口超时")},j);i.onreadystatechange=function(){if(4==i.readyState){var a,c,f=i.status;if(f>=200&&300>f||304==f){d(),a=i.responseText,c=i.getAllResponseHeaders()||"";try{a=/^\s*$/.test(a)?{}:JSON.parse(a),a.responseHeaders=c,h.results=[a],e.resolve()}catch(g){b("PARSE_JSON_ERROR::解析JSON失败")}}else d("ABORT"),b("ABORT::接口异常退出")}};var l,m,n=h.path+"?"+f(h.querystring);if(h.getJSON?(l="GET",n+="&"+f(h.postdata)):h.postJSON&&(l="POST",m=f(h.postdata)),i.open(l,n,!0),i.withCredentials=!0,i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.headers)for(var o in g.headers)i.setRequestHeader(o,g.headers[o]);return i.send(m),e.promise},l.prototype.__requestWindVane=function(a){function d(a){j.results=[a],h.resolve()}var e,f,g,h=c(),i=this.params,j=this.options,k=i.data,l=i.api,m=i.v,n=j.postJSON?1:0,o=j.getJSON||j.postJSON?"orginaljson":"",p="https"===location.protocol?1:0,q=i.isSec||0,r=i.sessionOption||"AutoLoginOnly";if("undefined"==typeof i.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::缺少ecode参数");return e=parseInt(i.ecode),g="undefined"!=typeof i.timer?parseInt(i.timer):"undefined"!=typeof i.timeout?parseInt(i.timeout):2e4,f=2*g,b.windvane.call("MtopWVPlugin","send",{api:l,v:m,post:String(n),type:o,isHttps:String(p),ecode:String(e),isSec:String(q),param:JSON.parse(k),timer:g,sessionOption:r},d,d,f),h.promise},l.prototype.__processRequest=function(a,b){var c=this;return n.then(function(){var a=c.options;if(a.H5Request&&a.getJSONP)return c.__requestJSONP(b);if(a.H5Request&&(a.getJSON||a.postJSON))return c.__requestJSON(b);if(a.WindVaneRequest)return c.__requestWindVane(b);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")}).then(a).then(function(){var a=c.options,b=(c.params,a.results[0]),d=b&&b.ret||[];b.ret=d,d instanceof Array&&(d=d.join(",")),d.indexOf("SUCCESS")>-1?b.retType=s.SUCCESS:b.retType=s.ERROR,a.retJson=b})},l.prototype.__sequence=function(a){function b(a){if(a instanceof Array)a.forEach(b);else{var g,h=c(),i=c();e.push(function(){return h=c(),g=a.call(d,function(a){return h.resolve(a),i.promise},function(a){return h.reject(a),i.promise}),g&&(g=g["catch"](function(a){h.reject(a)})),h.promise}),f.push(function(a){return i.resolve(a),g})}}var d=this,e=[],f=[];a.forEach(b);for(var g,h=n;g=e.shift();)h=h.then(g);for(;g=f.pop();)h=h.then(g);return h};var x=function(a){a()},y=function(a){a()};l.prototype.request=function(a){var b=this;this.options=d(a||{},q);var c=m.resolve([x,y]).then(function(a){var c=a[0],d=a[1];return b.__sequence([c,b.__processRequestMethod,b.__processRequestType,b.__processToken,b.__processRequestUrl,b.__processUnitPrefix,b.middlewares,b.__processRequest,d])}).then(function(){var a=b.options.retJson;return a.retType!==s.SUCCESS?m.reject(a):(b.options.successCallback&&b.options.successCallback(a),m.resolve(a))})["catch"](function(a){var c;return a instanceof Error?(console.error(a.stack),c={ret:[a.message],stack:[a.stack],retJson:s.ERROR}):c="string"==typeof a?{ret:[a],retJson:s.ERROR}:void 0!==a?a:b.options.retJson,b.options.failureCallback&&b.options.failureCallback(c),m.reject(c)});return x=function(a){c.then(a)["catch"](a)},c},b.mtop=function(a){return new l(a)},b.mtop.request=function(a,b,c){var d={H5Request:a.H5Request,WindVaneRequest:a.WindVaneRequest,LoginRequest:a.LoginRequest,AntiCreep:a.AntiCreep,AntiFlood:a.AntiFlood,successCallback:b,failureCallback:c||b};return new l(a).request(d)},b.mtop.H5Request=function(a,b,c){var d={H5Request:!0,successCallback:b,failureCallback:c||b};return new l(a).request(d)},b.mtop.middlewares=r,b.mtop.config=q,b.mtop.RESPONSE_TYPE=s,b.mtop.CLASS=l}(window,window.lib||(window.lib={})),function(a,b){function c(a){return a.preventDefault(),!1}function d(b,d){var e=this,f=a.dpr||1,g=document.createElement("div"),h=document.documentElement.getBoundingClientRect(),i=Math.max(h.width,window.innerWidth)/f,j=Math.max(h.height,window.innerHeight)/f;g.style.cssText=["-webkit-transform:scale("+f+") translateZ(0)","-ms-transform:scale("+f+") translateZ(0)","transform:scale("+f+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+i+"px","height:"+j+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var k=document.createElement("div");k.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),k.innerText=b;var l=document.createElement("a");l.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),l.innerText="关闭";var m=document.createElement("iframe");m.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),k.appendChild(l),g.appendChild(k),g.appendChild(m),document.body.appendChild(g),m.src=d,l.addEventListener("click",function(){e.hide();var a=document.createEvent("HTMLEvents");a.initEvent("close",!1,!1),g.dispatchEvent(a)},!1),this.addEventListener=function(){g.addEventListener.apply(g,arguments)},this.removeEventListener=function(){g.removeEventListener.apply(g,arguments)},this.show=function(){document.addEventListener("touchmove",c,!1),g.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",c),window.scrollTo(0,-h.top),g.parentNode&&g.parentNode.removeChild(g)}}function e(a){var c=this,d=this.options;this.params;return a().then(function(){var a=d.retJson,e=a.ret;if(e instanceof Array&&(e=e.join(",")),(e.indexOf("SESSION_EXPIRED")>-1||e.indexOf("SID_INVALID")>-1||e.indexOf("AUTH_REJECT")>-1||e.indexOf("NEED_LOGIN")>-1)&&(a.retType=k.SESSION_EXPIRED,!d.WindVaneRequest&&(j.LoginRequest===!0||d.LoginRequest===!0))){if(!b.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");return b.login.goLoginAsync().then(function(a){return c.__sequence([c.__processToken,c.__processRequestUrl,c.__processUnitPrefix,c.middlewares,c.__processRequest])})["catch"](function(a){throw"CANCEL"===a?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")})}})}function f(a){var b=this.options;this.params;return b.AliAppName||b.AliAppVersion||j.AntiFlood!==!0&&b.AntiFlood!==!0?void a():a().then(function(){var a=b.retJson,c=a.ret;c instanceof Array&&(c=c.join(",")),c.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&a.data.url&&(location.href=a.data.url)})}function g(b){var c=this,e=this.options,f=this.params;return e.AliAppName||e.AliAppVersion||j.AntiCreep!==!0&&e.AntiCreep!==!0?void b():b().then(function(){var b=e.retJson,g=b.ret;return g instanceof Array&&(g=g.join(",")),g.indexOf("RGV587_ERROR::SM")>-1&&b.data.url?new h(function(e,g){function h(){k.removeEventListener("close",h),a.removeEventListener("message",i),g("USER_INPUT_CANCEL::用户取消输入")}function i(b){k.removeEventListener("close",h),a.removeEventListener("message",i),k.hide();var d;try{d=JSON.parse(b.data)||{}}catch(j){}if(d&&"child"===d.type){var l;try{l=JSON.parse(decodeURIComponent(d.content)),"string"==typeof l&&(l=JSON.parse(l));for(var m in l)f[m]=l[m];c.__sequence([c.__processToken,c.__processRequestUrl,c.__processUnitPrefix,c.middlewares,c.__processRequest]).then(e)}catch(j){g("USER_INPUT_FAILURE::用户输入失败")}}else e()}var j=b.data.url,k=new d("",j);k.addEventListener("close",i,!1),a.addEventListener("message",i,!1),k.show()}):void 0})}var h=a.Promise,i=b.mtop.CLASS,j=b.mtop.config,k=b.mtop.RESPONSE_TYPE;b.mtop.middlewares.push(e),b.mtop.loginRequest=function(a,b,c){var d={LoginRequest:!0,H5Request:!0,successCallback:b,failureCallback:c||b};return new i(a).request(d)},b.mtop.antiFloodRequest=function(a,b,c){var d={AntiFlood:!0,successCallback:b,failureCallback:c||b};return new i(a).request(d)},b.mtop.middlewares.push(f),b.mtop.antiCreepRequest=function(a,b,c){var d={AntiCreep:!0,successCallback:b,failureCallback:c||b};return new i(a).request(d)},b.mtop.middlewares.push(g)}(window,window.lib||(window.lib={})),function(a,b){function c(a){Object.defineProperty(this,"val",{value:a.toString(),enumerable:!0}),this.gt=function(a){return c.compare(this,a)>0},this.gte=function(a){return c.compare(this,a)>=0},this.lt=function(a){return c.compare(this,a)<0},this.lte=function(a){return c.compare(this,a)<=0},this.eq=function(a){return 0===c.compare(this,a)}}b.env=b.env||{},c.prototype.toString=function(){return this.val},c.prototype.valueOf=function(){for(var a=this.val.split("."),b=[],c=0;c<a.length;c++){var d=parseInt(a[c],10);isNaN(d)&&(d=0);var e=d.toString();e.length<5&&(e=Array(6-e.length).join("0")+e),b.push(e),1===b.length&&b.push(".")}return parseFloat(b.join(""))},c.compare=function(a,b){a=a.toString().split("."),b=b.toString().split(".");for(var c=0;c<a.length||c<b.length;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(window.isNaN(d)&&(d=0),window.isNaN(e)&&(e=0),e>d)return-1;if(d>e)return 1}return 0},b.version=function(a){return new c(a)}}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c=a.location.search.replace(/^\?/,"");if(b.env.params={},c)for(var d=c.split("&"),e=0;e<d.length;e++){d[e]=d[e].split("=");try{b.env.params[d[e][0]]=decodeURIComponent(d[e][1])}catch(f){b.env.params[d[e][0]]=d[e][1]}}}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d=a.navigator.userAgent;if(c=d.match(/Windows\sPhone\s(?:OS\s)?([\d\.]+)/))b.env.os={name:"Windows Phone",isWindowsPhone:!0,version:c[1]};else if(d.match(/Safari/)&&(c=d.match(/Android[\s\/]([\d\.]+)/)))b.env.os={version:c[1]},d.match(/Mobile\s+Safari/)?(b.env.os.name="Android",b.env.os.isAndroid=!0):(b.env.os.name="AndroidPad",b.env.os.isAndroidPad=!0);else if(c=d.match(/(iPhone|iPad|iPod)/)){var e=c[1];c=d.match(/OS ([\d_\.]+) like Mac OS X/),b.env.os={name:e,isIPhone:"iPhone"===e||"iPod"===e,isIPad:"iPad"===e,isIOS:!0,version:c[1].split("_").join(".")}}else b.env.os={name:"unknown",version:"0.0.0"};b.version&&(b.env.os.version=b.version(b.env.os.version))}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d=a.navigator.userAgent;(c=d.match(/(?:UCWEB|UCBrowser\/)([\d\.]+)/))?b.env.browser={name:"UC",isUC:!0,version:c[1]}:(c=d.match(/MQQBrowser\/([\d\.]+)/))?b.env.browser={name:"QQ",isQQ:!0,version:c[1]}:(c=d.match(/Firefox\/([\d\.]+)/))?b.env.browser={name:"Firefox",isFirefox:!0,version:c[1]}:(c=d.match(/MSIE\s([\d\.]+)/))||(c=d.match(/IEMobile\/([\d\.]+)/))?(b.env.browser={version:c[1]},d.match(/IEMobile/)?(b.env.browser.name="IEMobile",b.env.browser.isIEMobile=!0):(b.env.browser.name="IE",b.env.browser.isIE=!0),d.match(/Android|iPhone/)&&(b.env.browser.isIELikeWebkit=!0)):(c=d.match(/(?:Chrome|CriOS)\/([\d\.]+)/))?(b.env.browser={name:"Chrome",isChrome:!0,version:c[1]},d.match(/Version\/[\d+\.]+\s*Chrome/)&&(b.env.browser.name="Chrome Webview",b.env.browser.isWebview=!0)):d.match(/Safari/)&&(c=d.match(/Android[\s\/]([\d\.]+)/))?b.env.browser={name:"Android",isAndroid:!0,version:c[1]}:d.match(/iPhone|iPad|iPod/)?d.match(/Safari/)?(c=d.match(/Version\/([\d\.]+)/),b.env.browser={name:"Safari",isSafari:!0,version:c[1]}):(c=d.match(/OS ([\d_\.]+) like Mac OS X/),b.env.browser={name:"iOS Webview",isWebview:!0,version:c[1].replace(/\_/g,".")}):b.env.browser={name:"unknown",version:"0.0.0"},b.version&&(b.env.browser.version=b.version(b.env.browser.version))}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c=a.navigator.userAgent;c.match(/Weibo/i)?b.env.thirdapp={appname:"Weibo",isWeibo:!0}:c.match(/MicroMessenger/i)?b.env.thirdapp={appname:"Weixin",isWeixin:!0}:b.env.thirdapp=!1}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d,e=a.navigator.userAgent;(d=e.match(/WindVane[\/\s]([\d\.\_]+)/))&&(c=d[1]);var f=!1,g="",h="",i="",j=!1,k="";(d=e.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i))&&(f=!0,g=d[1],i=d[2],h=g.indexOf("-PD")>0?b.env.os.isIOS?"iPad":b.env.os.isAndroid?"AndroidPad":b.env.os.name:b.env.os.name),!g&&e.indexOf("TBIOS")>0&&(g="TB"),(d=e.match(/PopLayer\/([\d\.]+)/i))&&(j=!0,k=d[1]),f?b.env.aliapp={windvane:b.version(c||"0.0.0"),appname:g||"unkown",version:b.version(i||"0.0.0"),platform:h||b.env.os.name,poplayer:j||!1,poplayerVersion:b.version(k||"0.0.0")}:b.env.aliapp=!1,b.env.taobaoApp=b.env.aliapp}(window,window.lib||(window.lib={})),function(a,b){function c(a){if(!f.paused)if(f.isSupportNative){var b=a.param.playIdentifier;b&&b.toString()!==l.toString()||(f.paused=!0,f.onended&&f.onended(),console.log("endedId:"+b))}else f.paused=!0,f.onended&&f.onended(),
console.log("ended")}function d(a){f.error=!0,f.pause(),f.onerror&&f.onerror(),console.log("error")}function e(a,b){return a=a.toString(),new Array(b+1-a.length).join("0")+a}var f=b.audio||(b.audio={}),g=a.document,h=a.WindVane,i=b.env.taobaoApp,j=new Audio,k=1,l=0,m={};f.isSupportNative=!1,i&&h&&(f.isSupportNative=i.version&&i.version.gte("4.0.0")),j.autoplay=!1,j.addEventListener("ended",c,!1),j.addEventListener("error",d,!1),g.addEventListener("AUDIO.IDLE",c,!1),f.paused=!0,f.play=function(a,b,c){if(1===arguments.length?"string"==typeof arguments[0]?this.src=arguments[0]:"function"==typeof arguments[0]&&(this.onended=b):2===arguments.length?"string"==typeof arguments[0]?(this.src=arguments[0],this.onended=arguments[1]):"function"==typeof arguments[0]&&(this.onended=arguments[0],this.onerror=arguments[1]):3===arguments.length&&(this.src=a,this.onended=b,this.onerror=c),this.error=!1,this.src){if(this.paused=!1,this.isSupportNative){if(l=m[this.src],!l){var f=Date.now()%1e3;m[this.src]=l="1"+e(f,3)+e(k,4),k=++k%1e4}console.log("playedId:"+l),h.call("H5AudioPlayer","play",{voiceUrl:this.src,playIdentifier:l},function(a){console.log("success to play")},function(a){console.log("fail to play"),d()})}else j.paused||(j.pause(),j.currentTime=0),j.src=this.src,j.play();console.log("play")}else d()},f.pause=function(a){(!this.paused||a)&&(this.paused=!0,this.isSupportNative?h.call("H5AudioPlayer","stop",{voiceUrl:this.src||""},function(a){console.log("success to stop")},function(a){console.log("fail to stop")}):(j.pause(),f.error||(j.currentTime=0)),console.log("paused"))}}(window,window.lib||(window.lib={})),function(a,b){var c="data-img",d="data-size",e="_(\\d+x\\d+(?:xz|xc)?|sum|m|b)((?:c[xy]\\d+i)?(?:co0)?)?([qQ]\\d+)?([sS]\\d+)?(g)?(\\.jpg)?",f="(_\\.webp)?",g=/_.webp$/,h=new RegExp(e+f+"$"),i=200,j=a.document,k=/(^https?:)?\/\/.*(?:alicdn|taobaocdn|taobao)\.(com|net)\/.*(?:\.(jpg|png|gif|jpeg|webp))?$/gi,l={extend:function(a,b){for(var c in b)a[c]=b[c]},filter:function(a){return a.filter(function(a){return!!a})},addEvent:function(a,b,c){a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.removeEventListener(b,c,!1)},getTime:function(){return Date.now?Date.now():(new Date).getTime()},isJsonObject:function(a){return"object"==typeof a&&Object.getPrototypeOf(a)===Object.prototype},uaInTaobaoApp:function(){var a=navigator.userAgent;return null!=a.match(/WindVane/i)?!0:!1},getParamVal:function(b){var c=a.location.search.slice(1),d={};if(""!==c)for(var e,f=c.split("&"),g=0,h=f.length;h>g;g++)e=f[g].split("="),d[e[0]]=e[1]||"";return b?d[b]:d},getQ:function(a){var b=a?a:this.getParamVal("getStatus"),c="";switch(b){case"false":c="q90";break;case"true":c="q75";break;case"_noq":c="";break;default:c=b}return c},fetchVersion:function(){var a=navigator.appVersion.match(/(iPhone\sOS)\s([\d_]+)/),b=a&&!0||!1,c=b&&a[2].split("_");c=c&&parseFloat(c.length>1?c.splice(0,2).join("."):c[0],10);var d=b&&6>c;return this.fetchVersion=function(){return d},d},getOffset:function(b,c){if(b){if(c||(c={x:0,y:0}),b!=a)var d=b.getBoundingClientRect(),e=d.left,f=d.top,g=d.right,h=d.bottom;else e=0,f=0,g=e+b.innerWidth,h=f+b.innerHeight;return{left:e,top:f,right:g+c.x,bottom:h+c.y}}},compare:function(a,b){var c=b.right>a.left&&b.left<a.right,d=b.bottom>a.top&&b.top<a.bottom;return c&&d},setImgSrc:function(a,b,c,d){if(a){if(null==a.match(k))return a;(a.lastIndexOf(".gif")>=0||a.indexOf(".gif_")>=0)&&(c=""),c=!a.match(/_q(\d+)\.(?:jpg|png|gif)/)&&c?c:"",b=!a.match(/_(\d+)-(\d+)\.(?:jpg|png|gif)/)&&b?b:"";var e=d?"_.webp":"",f=a,i=f.match(h),j=f.match(g);return i?f=f.replace(i,"_"+(i[1]||b)+(i[2]||"")+(i[1]||c)+(i[4]||"")+(i[5]||"")+(i[6]||"")+(i[7]||e)):j&&(b||c)?f=f.replace(j,"_"+b+c+".jpg_.webp"):f+=b||c?"_"+b+c+".jpg"+e:e,f}},clearImgSrc:function(a){var b;if(a&&"string"==typeof a)return b=a.match(h),b?a.replace(h,b[7]||""):a}},m=function(b,c){b||c?l.isJsonObject(b)&&(c=b,b=a):b=a;var d="string"==typeof b?j.querySelector(b):b;d&&(this.Container=d,this.reset(c||{}),this.attachMethod(),this.getItem(),this.filterItem())};m.prototype={reset:function(b){var c={lazyHeight:400,lazyWidth:0,lazyClass:"lb-lazy",definition:!1,autoDestroy:!0,q:""},d=l.extend,e=this.defaultAttr;e&&d(b,e),d(c,b);var f=c.q;"Boolean"==typeof f&&(f=f.toString()),c.q=l.getQ(f);var g=a.devicePixelRatio;c.definition=c.definition&&g&&g>1||!1;var h=c.size;h&&(h="object"==typeof h?h[g]||h["default"]:h),c.size=h||"";var i=c.lazyClass;c.lazyClass="."!==i.charAt(0)?i:i.slice(1),c.lazyClassReg=new RegExp("(^|\\s)"+c.lazyClass+"(\\s|$)"),this.defaultAttr=b,this.attr=c},get:function(a){return a?this.attr[a]:null},fireEvent:function(a){var b=this;a&&b.reset(a),b.getItem(),b.filterItem()},handleEvent:function(a){var b=a.type;"scroll"===b?this.filterItem():"touchstart"===b?this.tstart():"touchend"===b&&this.tend()},tstart:function(){this._touchLazy={sy:a.pageYOffset,time:l.getTime()},this._timerPhone&&clearTimeout(this._timerPhone)},tend:function(){var b=this,c=b._touchLazy,d=Math.abs(a.pageYOffset-c.sy);if(d>5){var e=l.getTime()-c.time;b._timerPhone=setTimeout(function(){b.filterItem(),b.touchLazy={},clearTimeout(b._timerPhone),b._timerPhone=null},e>100?0:10)}},attachMethod:function(){var b=l.addEvent;b(a,"scroll",this);var c=l.fetchVersion();c&&(b(j,"touchstart",this),b(j,"touchend",this))},destroy:function(){var b=l.removeEvent;b(a,"scroll",this);var c=l.fetchVersion();c&&(b(j,"touchstart",this),b(j,"touchend",this))},getItem:function(){var b=this,c=b.Container,d=b.itemList;if(d)for(var e=0,f=d.length;f>e;e++)d[e]&&(d[e].onerror=d[e].onload=null);c=c===a?j:c;for(var g=c.querySelectorAll("."+b.get("lazyClass")),h=[],e=0,f=g.length;f>e;e++)h.push(g[e]);b.itemList=h},filterItem:function(){var b=this,c=l,d=(b.Container,{x:b.get("lazyWidth"),y:b.get("lazyHeight")}),e=b.itemList,f=c.filter(e);if(f&&f.length)for(var g=0,h=e.length;h>g;g++)e[g]&&c.compare(c.getOffset(a,d),c.getOffset(e[g]))&&b.fetchItem(e[g],g);else b.get("autoDestroy")&&b.destroy()},fetchItem:function(a,b){var e=this,f=a.getAttribute(c),g=a.getAttribute(d),h=e.get("q");f&&(e.get("definition")&&(g||(g=e.get("size"))),f=l.setImgSrc(f,g,h),a.removeAttribute(c),a.removeAttribute(d),"IMG"===a.tagName?a.src=f:a.style.backgroundImage="url("+f+")",a.onload||(a.onload=function(){e.loadItem(this,b)},a.onerror=function(){e.errorItem(this,b)}))},loadItem:function(a,b){this.removeItemAttr(a,b),this.get("loadCallback")&&this.get("loadCallback").call(a)},errorItem:function(a,b){this.removeItemAttr(a,b),this.get("errorCallback")&&this.get("errorCallback").call(a)},removeItemAttr:function(a,b){var c=this;a.className=a.className.replace(c.get("lazyClassReg")," "),a.setAttribute("height",""),a.onerror=a.onload=null,c.itemList[b]=null}},m.prototype.constructor=m,b.lazyload=function(a,b){return new m(a,b)},b.lazyload.setImgSrc=l.setImgSrc,b.lazyload.clearImgSrc=l.clearImgSrc,b.lazyload.getNetWork=function(b){var c=a.WindVane;l.uaInTaobaoApp()?c&&c.call("TBWeakNetStatus","getStatus","",function(a){b(a.WeakNetStatus)},function(a){b()},i):b()}}(window,window.lib||(window.lib={}));